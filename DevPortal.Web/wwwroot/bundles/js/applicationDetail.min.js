function deleteApplication(){Swal.fire({title:"Emin misiniz?",text:"Bu kayıt kalıcı olarak silinecektir!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#c70039",cancelButtonColor:"#6c757d",confirmButtonText:"Sil",cancelButtonText:"Vazgeç"}).then(n=>{n.value&&$.ajax({dataType:"json",type:"POST",url:"/Application/Delete",data:{id:applicationId},success:function(n){n.isSuccess===!0?redirectToWindowLocation(n.redirectUrl):n.message!==null?SweetAlertError(n.message):SweetAlertError()},error:function(n){console.log(n);SweetAlertError()}})})}function SweetAlertError(n){n===""?Swal.fire("İşlem başarısız!","Bir hata oluştu. Lütfen daha sonra tekrar deneyiniz.","warning"):Swal.fire("İşlem başarısız!",n,"warning")}function redirectToWindowLocation(n){window.location.href=n}function exportDependenciesAsWikiFile(){var n=$("#applicationId").val(),t=Urls.ExportDependenciesAsWikiFile+"?applicationId="+n;window.location.href=t}function exportDependenciesAsWikiText(){var n=$("#applicationId").val();$.ajax({url:Urls.ExportDependenciesAsWiki,type:"get",data:{applicationId:n},success:function(n){$("#dependencies-wiki-text").html(n);$("#dependenciesModal").modal("show")}})}function GetApplicationDependenciesByApplicationId(n){$.ajax({dataType:"json",type:"GET",url:Urls.GetApplicationDependenciesByApplicationId,data:{applicationId:n},success:function(n){if($("#application-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateApplicationDependenciesTableRow(t.name,t.applicationGroupName,t.id,t.dependedApplicationId);$("#application-tab-content-table-tbody").append(i)}),$("#application-count").empty(),$("#application-count").append(n.data.length+" uygulama");else{var t=generateNullTableRow(3);$("#application-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})}function generateApplicationDependenciesTableRow(n,t,i,r){return"<tr class='d-flex'><td class='col-md-4'><a href=/application/detail/"+r+" target='_blank'>"+n+"<\/a><\/td><td class='col-md-7'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationdependency/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function GetDatabaseDependenciesByApplicationId(n){$.ajax({dataType:"json",type:"GET",url:Urls.GetDatabaseDependenciesByApplicationId,data:{applicationId:n},success:function(n){if($("#database-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateDatabaseDependenciesTableRow(t.name,t.databaseGroupName,t.id,t.databaseId);$("#database-tab-content-table-tbody").append(i)}),$("#database-count").empty(),$("#database-count").append(n.data.length+" veritabanı");else{var t=generateNullTableRow(3);$("#database-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})}function generateDatabaseDependenciesTableRow(n,t,i,r){return"<tr class='d-flex'><td class='col-md-4'><a href=/database/detail/"+r+" target='_blank'>"+n+"<\/a><\/td><td class='col-md-7'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/databasedependency/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function GetExternalDependenciesByApplicationId(n){$.ajax({dataType:"json",type:"GET",url:Urls.GetExternalDependenciesByApplicationId,data:{applicationId:n},success:function(n){if($("#external-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateExternalDependenciesTableRow(t.name,t.description,t.id);$("#external-tab-content-table-tbody").append(i)}),$("#external-count").empty(),$("#external-count").append(n.data.length+" bağımlılık");else{var t=generateNullTableRow(3);$("#external-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})}function generateExternalDependenciesTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-4'>"+n+"<\/td><td class='col-md-7'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/externaldependency/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function GetNugetPackageDependenciesByApplicationId(n){$.ajax({dataType:"json",type:"GET",url:Urls.GetNugetPackageDependenciesByApplicationId,data:{applicationId:n},success:function(n){if($("#nugetpackage-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateNugetPackageDependenciesTableRow(t.nugetPackageName,t.packageUrl,t.id);$("#nugetpackage-tab-content-table-tbody").append(i)}),$("#nugetpackage-count").empty(),$("#nugetpackage-count").append(n.data.length+" bağımlılık");else{var t=generateNullTableRow(3);$("#nugetpackage-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})}function generateNugetPackageDependenciesTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-4'>"+n+"<\/td><td class='col-md-7'><a href='"+t+"' target='_blank'>"+t+"<\/a><\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/nugetpackagedependency/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function generateSvnTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-7'>"+n+"<\/td><td class='col-md-4'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationsvn/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function generateJenkinsTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-7'><a href="+n+" target='_blank' >"+n+"<\/a><\/td><td class='col-md-4'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationjenkinsjob/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function generateSonarqubeTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-7'><a href="+n+" target='_blank' >"+n+"<\/a><\/td><td class='col-md-4'>"+t+"<\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationsonarqubeproject/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function generateNugetTableRow(n,t,i){return"<tr class='d-flex'><td class='col-md-4'>"+n+"<\/td><td class='col-md-7'><a href="+t+" target='_blank' >"+t+"<\/a><\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationnugetpackage/detail/"+i+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function generateNullTableRow(n){return"<tr><td colspan="+n+">Kayıt Bulunamadı<\/td><\/tr>"}function generateEnviromentTableRow(n,t,i,r){return"<tr class='d-flex'><td class='col-md-1'>"+n+"<\/td><td class='col-md-2 col-sm-3'>"+t+"<\/td><td class='col-md-8 col-sm-6'><a href="+i+" target='_blank' >"+i+"<\/a><\/td><td class='col-md-1 btnActions text-center'><a class='btn btn-link' type='button' data-toggle='tooltip' data-placement='top' title='Detay' href=/applicationenvironment/detail/"+r+"><i class='far fa-eye' aria-hidden='true'><\/i><\/button><\/td><\/tr>"}function getBuildSettings(n){$.ajax({dataType:"json",type:"GET",url:Urls.GetApplicationBuildSettings,data:{applicationId:n},success:function(n){n&&($("#workspace").text(n.workspace),$("#solution-name").text(n.solutionName),$("#project-name").text(n.projectName),$("#deploy-path").text(n.deployPath),$("#dev-publish-profile").text(n.devPublishProfileName),$("#test-publish-profile").text(n.testPublishProfileName),$("#pre-prod-publish-profile").text(n.preProdPublishProfileName),$("#prod-publish-profile").text(n.prodPublishProfileName),$("#dev-remote-address").text(n.devRemoteAddress),$("#test-remote-address").text(n.testRemoteAddress),$("#pre-prod-remote-address").text(n.preProdRemoteAddress),$("#prod-remote-address").text(n.prodRemoteAddress))},error:function(n){console.log(n)}})}const applicationId=$("#applicationId").val(),applicationName=$("#applicationName").val();$(document).ready(function(){$(".link-tab").click(function(){window.location.href($(this))});$("#nav-tab a").on("click",function(n){var t,i;n.preventDefault();t=$(this).attr("aria-controls");$(".tab-content .tab-pane ").removeClass("show active");i=$("#"+t+"");i.addClass("show active")});$("#dependencies-tab").on("click",function(){GetApplicationDependenciesByApplicationId(applicationId);GetDatabaseDependenciesByApplicationId(applicationId);GetExternalDependenciesByApplicationId(applicationId);GetNugetPackageDependenciesByApplicationId(applicationId)});$("#export-dependencies-as-wiki").on("click",()=>{exportDependenciesAsWikiText()});$("#export-dependencies-as-wiki-file").on("click",()=>{exportDependenciesAsWikiFile()});$("#environment-tab").on("click",function(){$.ajax({dataType:"json",type:"GET",url:Urls.GetApplicationEnvironments,data:{applicationId:applicationId},success:function(n){if(n.data.length!==0)$("#environment-tab-content-table-tbody").empty(),$.each(n.data,function(n,t){var i=t.hasLog===!0?"Görüntülenebilir":"Görüntülenemez",r=generateEnviromentTableRow(t.environmentName,i,t.url===null?"":t.url,t.id);$("#environment-tab-content-table-tbody").append(r)}),$("#environment-count").empty(),$("#environment-count").append(n.data.length+" ortam");else{$("#environment-tab-content-table-tbody").empty();var t=generateNullTableRow(4);$("#environment-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})});$("#nuget-tab").on("click",function(){$.ajax({dataType:"json",type:"GET",url:Urls.GetNugetPackages,data:{applicationId:applicationId},success:function(n){if($("#nuget-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateNugetTableRow(t.nugetPackageName,t.packageUrl,t.nugetPackageId);$("#nuget-tab-content-table-tbody").append(i)}),$("#nuget-count").empty(),$("#nuget-count").append(n.data.length+" paket");else{var t=generateNullTableRow(3);$("#nuget-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})});$("#svn-tab").on("click",function(){$.ajax({dataType:"json",type:"GET",url:Urls.GetSvnRepositories,data:{applicationId:applicationId},success:function(n){if($("#svn-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateSvnTableRow(t.svnUrl,t.svnRepositoryTypeName,t.id);$("#svn-tab-content-table-tbody").append(i)}),$("#svn-count").empty(),$("#svn-count").append(n.data.length+" depo");else{var t=generateNullTableRow(3);$("#svn-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})});$("#jenkins-tab").on("click",function(){$.ajax({dataType:"json",type:"GET",url:Urls.GetJenkinsJobs,data:{applicationId:applicationId},success:function(n){if($("#jenkins-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateJenkinsTableRow(t.jobUrl,t.jenkinsJobTypeName,t.jenkinsJobId);$("#jenkins-tab-content-table-tbody").append(i)}),$("#jenkins-count").empty(),$("#jenkins-count").append(n.data.length+" görev");else{var t=generateNullTableRow(3);$("#jenkins-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})});$("#sonarqube-tab").on("click",function(){$.ajax({dataType:"json",type:"GET",url:Urls.GetSonarqubeProjects,data:{applicationId:applicationId},success:function(n){if($("#sonarqube-tab-content-table-tbody").empty(),n.data.length!==0)$.each(n.data,function(n,t){var i=generateSonarqubeTableRow(t.projectUrl,t.sonarqubeProjectTypeName,t.sonarqubeProjectId);$("#sonarqube-tab-content-table-tbody").append(i)}),$("#sonarqube-count").empty(),$("#sonarqube-count").append(n.data.length+" proje");else{var t=generateNullTableRow(3);$("#sonarqube-tab-content-table-tbody").append(t)}},error:function(n){console.log(n)}})});$("#deleteApplication").on("click",()=>{deleteApplication()});$("#build-settings-tab").on("click",function(){getBuildSettings(applicationId)})});